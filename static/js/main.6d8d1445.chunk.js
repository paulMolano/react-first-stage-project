(this["webpackJsonpcocktails-app"]=this["webpackJsonpcocktails-app"]||[]).push([[0],{56:function(e,t,c){},57:function(e,t,c){},78:function(e,t,c){},86:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(15),s=c.n(n),i=(c(56),c(57),c(16)),o=c.n(i),l=c(21),u=c(5),j=c(22),d=c.n(j),b=c(1),m=Object(r.createContext)(),O=function(e){var t=e.children,c=Object(r.useState)([]),a=Object(u.a)(c,2),n=a[0],s=a[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.thecocktaildb.com/api/json/v1/1/list.php?c=list",e.next=3,d.a.get("https://www.thecocktaildb.com/api/json/v1/1/list.php?c=list");case 3:t=e.sent,s(t.data.drinks);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.jsx)(m.Provider,{value:{category:n},children:t})},h=c(3);function p(e,t){switch(t.type){case"SAVE_DRINK":return Object(h.a)(Object(h.a)({},e),{},{drinkOption:t.payload});case"CONSULT_DRINK":return Object(h.a)(Object(h.a)({},e),{},{consult:t.payload});default:return e}}var x=Object(r.createContext)(),f={drinkOption:{},consult:!1},v=function(e){var t=e.children,c=Object(r.useState)([]),a=Object(u.a)(c,2),n=a[0],s=a[1],i=Object(r.useReducer)(p,f),j=Object(u.a)(i,2),m=j[0],O=j[1],h=function(e){return O({type:"CONSULT_DRINK",payload:e})};return Object(r.useEffect)((function(){if(m.consult){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c,r,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.drinkOption,c=t.ingredient,r=t.category,a="https://www.thecocktaildb.com/api/json/v1/1/filter.php?c=".concat(r,"&i=").concat(c),e.next=4,d.a.get(a);case 4:n=e.sent,s(n.data.drinks),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[m]),Object(b.jsx)(x.Provider,{value:{drink:m,addDrink:function(e){return O({type:"SAVE_DRINK",payload:e})},setConsult:h,recipes:n},children:t})};function g(e,t){switch(t.type){case"SAVE_IDRECIPE":return Object(h.a)(Object(h.a)({},e),{},{idrecipe:t.payload});case"SAVE_RECIPE":return Object(h.a)(Object(h.a)({},e),{},{newrecipe:t.payload});default:return e}}var y=Object(r.createContext)(),w={idrecipe:null,newrecipe:{}},N=function(e){var t=e.children,c=Object(r.useReducer)(g,w),a=Object(u.a)(c,2),n=a[0],s=a[1],i=function(e){return s({type:"SAVE_RECIPE",payload:e})},j=n.idrecipe,m=n.newrecipe;return Object(r.useEffect)((function(){var e=function(){var e=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:return t="https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=".concat(j),e.next=5,d.a.get(t);case 5:c=e.sent,i(c.data.drinks[0]);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[j]),Object(b.jsx)(y.Provider,{value:{setIdrecipe:function(e){return s({type:"SAVE_IDRECIPE",payload:e})},newrecipe:m,setNewrecipe:i},children:t})},k=c(20);function S(e,t){switch(t.type){case"SAVE_USER":return Object(h.a)(Object(h.a)({},e),{},{users:[].concat(Object(k.a)(e.users),[t.payload])});case"SAVE_AUTHUSER":return Object(h.a)(Object(h.a)({},e),{},{authUser:t.payload});default:return e}}var C=Object(r.createContext)(),E=function(e){var t=e.children,c=JSON.parse(localStorage.getItem("users"));c||(c=[]);var a={users:c,authUser:{username:"",password:"",isAuth:!1}},n=Object(r.useReducer)(S,a),s=Object(u.a)(n,2),i=s[0],o=s[1],l=i.users,j=i.authUser,d=function(e){o({type:"SAVE_AUTHUSER",payload:Object(h.a)(Object(h.a)({},e),{},{isAuth:!0})})};return Object(r.useEffect)((function(){localStorage.setItem("users",JSON.stringify(l))}),[l]),Object(b.jsx)(C.Provider,{value:{addUser:function(e){o({type:"SAVE_USER",payload:Object(h.a)({},e)})},authentication:function(e){return function(){var t=i.users;console.log(e.username,e.password);var c=t.find((function(t){return t.username===e.username&&t.password===e.password}));if(console.log(c),c)return d(e),!0}()},authUser:j,addAuthUser:d},children:t})},A=c(23),I=c(4),U=c(14),D=(c(78),function(){return Object(b.jsxs)("div",{className:"sk-chase",children:[Object(b.jsx)("div",{className:"sk-chase-dot"}),Object(b.jsx)("div",{className:"sk-chase-dot"}),Object(b.jsx)("div",{className:"sk-chase-dot"}),Object(b.jsx)("div",{className:"sk-chase-dot"}),Object(b.jsx)("div",{className:"sk-chase-dot"}),Object(b.jsx)("div",{className:"sk-chase-dot"})]})}),P=function(){var e=Object(r.useContext)(C).authentication,t=Object(r.useState)(!1),c=Object(u.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)({username:"",password:"",isAuth:!1}),i=Object(u.a)(s,2),o=i[0],l=i[1],j=function(e){l(Object(h.a)(Object(h.a)({},o),{},Object(U.a)({},e.target.name,e.target.value)))},d=Object(I.g)(),m=o.username,O=o.password;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{className:"mt-5 mb-2",children:"Log in"}),Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n(!0),setTimeout((function(){n(!1),e(o)?d.push("/home"):alert("Incorrect password or user")}),2e3),l({username:"",password:""})},children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"username",className:"form-label",required:!0,children:"Username"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"username",onChange:j,value:m,required:!0})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(b.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:j,value:O,required:!0})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary mr-2",children:"Log in"}),Object(b.jsx)(A.b,{to:"/register",children:" New account? Click me"}),a?Object(b.jsx)(D,{}):null]})]})},R=function(){var e=Object(r.useContext)(C).authUser;return Object(b.jsxs)("header",{className:"bg-alert",children:[Object(b.jsx)("h1",{children:"Cocktails"}),Object(b.jsxs)("h1",{children:[""!==e.username?"Wellcome ".concat(e.username,"!"):"Because everyone loves drinks"," "]})]})},F=function(){return Object(b.jsx)("footer",{className:"bg-dark py-4 \r text-white fixed-bottom",children:Object(b.jsx)("div",{className:"container text-center",children:Object(b.jsx)("small",{children:"Copyright \xa9 Paris Arcos & Paul Molano"})})})};function _(e){var t=e.children;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(R,{}),t,Object(b.jsx)(F,{})]})}var V=function(){return Object(b.jsx)(_,{children:Object(b.jsx)("div",{className:"container mt-12",children:Object(b.jsx)(P,{})})})},T=function(){var e=Object(r.useContext)(m).category,t=Object(r.useContext)(x),c=t.addDrink,a=t.setConsult,n=Object(r.useState)({ingredient:"",category:""}),s=Object(u.a)(n,2),i=s[0],o=s[1],l=function(e){o(Object(h.a)(Object(h.a)({},i),{},Object(U.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("form",{className:"col-md-12",onSubmit:function(e){e.preventDefault(),c(i),a(!0),o({ingredient:"",category:""})},children:[Object(b.jsx)("fieldset",{className:"text-center",children:Object(b.jsx)("legend",{children:"Search Drinks by Category and Ingredient"})}),Object(b.jsxs)("div",{className:"row mt-4",children:[Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsx)("input",{name:"ingredient",className:"form-control",type:"text",placeholder:"Search by ingredient",onChange:l,value:i.ingredient})}),Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsxs)("select",{className:"form-control",name:"category",onChange:l,value:i.category,required:!0,children:[Object(b.jsx)("option",{value:"",children:"Select category"}),e.map((function(e){return Object(b.jsx)("option",{value:e.strCategory,children:e.strCategory},e.strCategory)}))]})}),Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsx)("input",{className:"btn btn-block btn-primary ",type:"submit",value:"Search cocktails"})})]})]})},q=c(100),z=c(99);function L(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var Z=Object(z.a)((function(e){return{paper:{position:"absolute",width:450,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),B=function(e){var t=e.recipe,c=Object(r.useContext)(y),a=c.setIdrecipe,n=c.newrecipe,s=c.setNewrecipe,i=Object(r.useState)(L),o=Object(u.a)(i,1)[0],l=Object(r.useState)(!1),j=Object(u.a)(l,2),d=j[0],m=j[1],O=Z();return Object(b.jsx)("div",{className:"col-md-4 mb-3",children:Object(b.jsxs)("div",{className:"card",children:[Object(b.jsx)("h6",{className:"card-header",children:t.strDrink}),Object(b.jsx)("img",{className:"card-img-top",src:t.strDrinkThumb,alt:t.strDrink}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-block btn-primary",onClick:function(){a(t.idDrink),m(!0)},children:"See Recipe"}),Object(b.jsx)(q.a,{open:d,onClose:function(){a(null),s({}),m(!1)},children:Object(b.jsxs)("div",{style:o,className:O.paper,children:[Object(b.jsx)("h2",{children:n.strDrink}),Object(b.jsx)("h3",{className:"mt-4",children:"Instructions"}),Object(b.jsx)("p",{children:n.strInstructions}),Object(b.jsx)("img",{className:"img-fluid my-4",src:n.strDrinkThumb,alt:n.strDrink}),Object(b.jsx)("h3",{children:"Ingredients"}),Object(b.jsx)("ul",{children:function(e){for(var t=[],c=1;c<16;c++)null!=e["strIngredient".concat(c)]&&t.push(Object(b.jsxs)("li",{children:[e["strIngredient".concat(c)]," ",e["strMeasure".concat(c)]]},"strIngredient".concat(c)));return t}(n)})]})})]})]})})},H=function(){var e=Object(r.useContext)(x).recipes;return Object(b.jsx)("div",{className:"row mt-5",children:e.map((function(e){return Object(b.jsx)(B,{recipe:e},e.idDrink)}))})},J=function(){return Object(b.jsx)(_,{children:Object(b.jsxs)("div",{className:"container mt-5",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(T,{})}),Object(b.jsx)(H,{})]})})},K=c(19),M=function(){var e=Object(I.g)(),t=Object(r.useState)(!1),c=Object(u.a)(t,2),a=c[0],n=c[1],s=Object(r.useContext)(C),i=s.addUser,o=s.addAuthUser;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Register"}),Object(b.jsx)(K.d,{initialValues:{email:"",username:"",password:""},validate:function(e){var t={};return e.username?/^[a-zA-Z\xc0-\xff\s]{1,40}$/.test(e.username)||(t.username="User name can only contain letters of the alphabe, and spaces"):t.username="Please enter your user name",e.email?/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e.email)||(t.email="Email shoul have the format 'example@example.try'"):t.email="Please enter your email",e.password?/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(e.password)||(t.password="Password should have minimum eight characters, at least one uppercase letter, one lowercase letter and one number"):t.password="Please enter your password",t},onSubmit:function(t,c){(0,c.resetForm)(),n(!0),i(t),setTimeout((function(){o({username:t.username,password:t.password}),alert("Welcome ".concat(t.username)),e.push("/home"),n(!1)}),2e3)},children:function(e){e.handleBlur,e.handleChange;var t=e.handleSubmit,c=(e.touched,e.values,e.errors);return Object(b.jsxs)(K.c,{onSubmit:t,children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(b.jsx)(K.b,{type:"email",className:"form-control",name:"email","aria-describedby":"emailHelp",required:!0}),Object(b.jsx)(K.a,{name:"email",component:function(){return Object(b.jsx)("div",{className:"alert alert-danger",children:c.email})}})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(b.jsx)(K.b,{type:"text",className:"form-control",name:"username",required:!0}),Object(b.jsx)(K.a,{name:"username",component:function(){return Object(b.jsx)("div",{className:"alert alert-danger",children:c.username})}})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(b.jsx)(K.b,{type:"password",className:"form-control",name:"password",required:!0}),Object(b.jsx)(K.a,{name:"password",component:function(){return Object(b.jsx)("div",{className:"alert alert-danger",children:c.password})}})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"}),Object(b.jsx)(A.b,{to:"/",children:" Have you and account?"}),a?Object(b.jsx)(D,{}):null]})}})]})},$=function(){return Object(b.jsx)(_,{children:Object(b.jsx)("div",{className:"container mt-12",children:Object(b.jsx)(M,{})})})},W=function(){var e=Object(r.useContext)(C).authUser.isAuth;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(A.a,{children:Object(b.jsxs)(I.d,{children:[Object(b.jsx)(I.b,{exact:!0,path:"/register",component:$}),Object(b.jsx)(I.b,{exact:!0,path:"/login",component:V}),Object(b.jsx)(I.b,{path:"/",children:e?Object(b.jsx)(J,{}):Object(b.jsx)(I.a,{to:"/login"})})]})})})};var G=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(E,{children:Object(b.jsx)(O,{children:Object(b.jsx)(v,{children:Object(b.jsx)(N,{children:Object(b.jsx)(W,{})})})})})})},Q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,102)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root")),Q()}},[[86,1,2]]]);
//# sourceMappingURL=main.6d8d1445.chunk.js.map